# Generated by Django 3.2.9 on 2022-01-09 03:07

import core.fields
import core.utils
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import easy_thumbnails.fields
import flagging.mixins
import posts.models.artist_posts.operations
import posts.models.common.operations
import posts.models.non_artist_posts.operations
import posts.validators
import shortuuid.django_fields
import taggit.managers


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('accounts', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='ArtistPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', shortuuid.django_fields.ShortUUIDField(alphabet=None, length=20, max_length=24, prefix='', unique=True)),
                ('body', models.TextField(blank=True)),
                ('language', models.CharField(choices=[('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('my', 'Burmese'), ('nb', 'Norwegian Bokm√•l'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], default='en', max_length=7, verbose_name='Language')),
                ('created_on', models.DateTimeField(auto_now_add=True)),
                ('last_updated_on', models.DateTimeField(auto_now=True)),
                ('is_private', models.BooleanField(default=False)),
                ('num_parent_comments', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of parent comments')),
                ('num_stars', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of stars')),
                ('num_bookmarks', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of bookmarks')),
                ('num_views', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of views')),
                ('num_downloads', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of downloads')),
                ('num_simple_reposts', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of reposts without a comment')),
                ('num_comment_reposts', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of reposts with a comment')),
            ],
            options={
                'db_table': 'posts"."artist_post',
                'ordering': ['-created_on'],
            },
            bases=(models.Model, posts.models.common.operations.PostOperations, posts.models.artist_posts.operations.ArtistPostOperations, flagging.mixins.FlagMixin, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='ArtistPostBookmark',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bookmarked_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."artist_post_bookmark',
            },
            bases=(models.Model, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='ArtistPostComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', shortuuid.django_fields.ShortUUIDField(alphabet=None, length=16, max_length=24, prefix='', unique=True)),
                ('body', models.TextField()),
                ('last_updated_on', models.DateTimeField(auto_now=True)),
                ('created_on', models.DateTimeField(auto_now_add=True)),
                ('num_likes', models.PositiveIntegerField(default=0, editable=False)),
                ('num_replies', models.PositiveIntegerField(default=0, editable=False)),
                ('is_parent', models.BooleanField(default=True)),
            ],
            options={
                'db_table': 'posts"."artist_post_comment',
                'ordering': ['-num_likes', '-created_on', '-num_replies'],
            },
            bases=(models.Model, flagging.mixins.FlagMixin, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='ArtistPostCommentLike',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('liked_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."artist_post_comment_like',
            },
            bases=(models.Model, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='ArtistPostCommentMention',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'db_table': 'posts"."artist_post_comment_user_mention',
            },
        ),
        migrations.CreateModel(
            name='ArtistPostDownload',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('downloaded_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."artist_post_download',
            },
        ),
        migrations.CreateModel(
            name='ArtistPostMention',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'db_table': 'posts"."artist_post_user_mention',
            },
        ),
        migrations.CreateModel(
            name='ArtistPostPhoto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('photo', easy_thumbnails.fields.ThumbnailerImageField(height_field='photo_height', upload_to='artist_posts_photos/', validators=[django.core.validators.FileExtensionValidator(['png, jpg, gif']), posts.validators.validate_post_photo], width_field='photo_width')),
                ('photo_width', models.PositiveIntegerField()),
                ('photo_height', models.PositiveIntegerField()),
            ],
            options={
                'db_table': 'posts"."artist_post_photo',
            },
        ),
        migrations.CreateModel(
            name='ArtistPostRating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('num_stars', models.PositiveIntegerField(editable=False)),
                ('rated_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."artist_post_rating',
            },
            bases=(models.Model, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='ArtistPostRepost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('comment', models.TextField(blank=True)),
                ('reposted_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."artist_post_repost',
                'ordering': ['-reposted_on'],
            },
            bases=(models.Model, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='ArtistPostVideo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('video', core.fields.DynamicStorageFileField(blank=True, upload_to='artist_posts_videos/', validators=[django.core.validators.FileExtensionValidator(['mp4', 'mov']), posts.validators.validate_post_video])),
            ],
            options={
                'db_table': 'posts"."artist_post_video',
            },
        ),
        migrations.CreateModel(
            name='HashtaggedArtistPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'db_table': 'posts"."artist_post_with_hashtag',
            },
        ),
        migrations.CreateModel(
            name='HashtaggedNonArtistPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'db_table': 'posts"."non_artist_post_with_hashtag',
            },
        ),
        migrations.CreateModel(
            name='NonArtistPost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', shortuuid.django_fields.ShortUUIDField(alphabet=None, length=20, max_length=24, prefix='', unique=True)),
                ('body', models.TextField(blank=True)),
                ('language', models.CharField(choices=[('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('my', 'Burmese'), ('nb', 'Norwegian Bokm√•l'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], default='en', max_length=7, verbose_name='Language')),
                ('created_on', models.DateTimeField(auto_now_add=True)),
                ('last_updated_on', models.DateTimeField(auto_now=True)),
                ('is_private', models.BooleanField(default=False)),
                ('num_parent_comments', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of parent comments')),
                ('num_stars', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of stars')),
                ('num_bookmarks', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of bookmarks')),
                ('num_views', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of views')),
                ('num_downloads', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of downloads')),
                ('num_simple_reposts', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of reposts without a comment')),
                ('num_comment_reposts', models.PositiveIntegerField(default=0, editable=False, verbose_name='Number of reposts with a comment')),
            ],
            options={
                'db_table': 'posts"."non_artist_post',
                'ordering': ['-created_on'],
            },
            bases=(models.Model, posts.models.common.operations.PostOperations, posts.models.non_artist_posts.operations.NonArtistPostOperations, flagging.mixins.FlagMixin, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='NonArtistPostBookmark',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bookmarked_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."non_artist_post_bookmark',
            },
            bases=(models.Model, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='NonArtistPostComment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('uuid', shortuuid.django_fields.ShortUUIDField(alphabet=None, length=16, max_length=24, prefix='', unique=True)),
                ('body', models.TextField()),
                ('last_updated_on', models.DateTimeField(auto_now=True)),
                ('created_on', models.DateTimeField(auto_now_add=True)),
                ('num_likes', models.PositiveIntegerField(default=0, editable=False)),
                ('num_replies', models.PositiveIntegerField(default=0, editable=False)),
                ('is_parent', models.BooleanField(default=True)),
            ],
            options={
                'db_table': 'posts"."non_artist_post_comment',
                'ordering': ['-num_likes', '-created_on', '-num_replies'],
            },
            bases=(models.Model, flagging.mixins.FlagMixin, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='NonArtistPostCommentLike',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('liked_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."non_artist_post_comment_like',
            },
            bases=(models.Model, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='NonArtistPostCommentMention',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'db_table': 'posts"."non_artist_post_comment_user_mention',
            },
        ),
        migrations.CreateModel(
            name='NonArtistPostDownload',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('downloaded_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."non_artist_post_download',
            },
        ),
        migrations.CreateModel(
            name='NonArtistPostMention',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
            ],
            options={
                'db_table': 'posts"."non_artist_post_user_mention',
            },
        ),
        migrations.CreateModel(
            name='NonArtistPostPhoto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('photo', easy_thumbnails.fields.ThumbnailerImageField(height_field='photo_height', upload_to='non_artist_posts_photos/', validators=[django.core.validators.FileExtensionValidator(['png, jpg, gif']), posts.validators.validate_post_photo], width_field='photo_width')),
                ('photo_width', models.PositiveIntegerField()),
                ('photo_height', models.PositiveIntegerField()),
            ],
            options={
                'db_table': 'posts"."non_artist_post_photo',
            },
        ),
        migrations.CreateModel(
            name='NonArtistPostRating',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('num_stars', models.PositiveIntegerField(editable=False)),
                ('rated_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."non_artist_post_rating',
            },
            bases=(models.Model, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='NonArtistPostRepost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('comment', models.TextField(blank=True)),
                ('reposted_on', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'posts"."non_artist_post_repost',
                'ordering': ['-reposted_on'],
            },
            bases=(models.Model, core.utils.UsesCustomSignal),
        ),
        migrations.CreateModel(
            name='NonArtistPostVideo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('video', core.fields.DynamicStorageFileField(blank=True, upload_to='artist_posts_videos/', validators=[django.core.validators.FileExtensionValidator(['mp4', 'mov']), posts.validators.validate_post_video])),
            ],
            options={
                'db_table': 'posts"."non_artist_post_video',
            },
        ),
        migrations.CreateModel(
            name='PostHashtag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, unique=True, verbose_name='name')),
                ('topic', models.CharField(max_length=40, unique=True, verbose_name='topic')),
                ('slug', models.SlugField(allow_unicode=True, max_length=100, unique=True, verbose_name='slug')),
            ],
            options={
                'verbose_name': 'Post Hashtag',
                'verbose_name_plural': 'Post Hashtags',
                'db_table': 'posts"."post_hashtag',
            },
            bases=(models.Model, posts.models.common.operations.PostHashtagOperations),
        ),
        migrations.AddConstraint(
            model_name='posthashtag',
            constraint=models.CheckConstraint(check=models.Q(('topic__regex', '^[[:alpha:]]+$')), name='hashtag_is_alphabetic'),
        ),
        migrations.AddField(
            model_name='nonartistpostvideo',
            name='post',
            field=models.OneToOneField(db_column='non_artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='video', related_query_name='video', to='posts.nonartistpost'),
        ),
        migrations.AddField(
            model_name='nonartistpostrepost',
            name='post',
            field=models.ForeignKey(db_column='non_artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='reposts', related_query_name='repost', to='posts.nonartistpost'),
        ),
        migrations.AddField(
            model_name='nonartistpostrepost',
            name='reposter',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='non_artist_post_reposts', related_query_name='non_artist_post_repost', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostrating',
            name='post',
            field=models.ForeignKey(db_column='non_artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='ratings', related_query_name='rating', to='posts.nonartistpost'),
        ),
        migrations.AddField(
            model_name='nonartistpostrating',
            name='rater',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='non_artist_post_ratings', related_query_name='non_artist_post_rating', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostphoto',
            name='post',
            field=models.ForeignKey(db_column='non_artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='photos', related_query_name='photo', to='posts.nonartistpost', verbose_name='Post'),
        ),
        migrations.AddField(
            model_name='nonartistpostmention',
            name='post',
            field=models.ForeignKey(db_column='non_artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.nonartistpost'),
        ),
        migrations.AddField(
            model_name='nonartistpostmention',
            name='user_mentioned',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostdownload',
            name='downloader',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='non_artist_post_downloads', related_query_name='non_artist_post_download', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostdownload',
            name='post',
            field=models.ForeignKey(db_column='non_artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.nonartistpost'),
        ),
        migrations.AddField(
            model_name='nonartistpostcommentmention',
            name='comment',
            field=models.ForeignKey(db_column='non_artist_post_comment_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.nonartistpostcomment'),
        ),
        migrations.AddField(
            model_name='nonartistpostcommentmention',
            name='user_mentioned',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostcommentlike',
            name='comment',
            field=models.ForeignKey(db_column='non_artist_post_comment_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.nonartistpostcomment'),
        ),
        migrations.AddField(
            model_name='nonartistpostcommentlike',
            name='liker',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostcomment',
            name='likers',
            field=models.ManyToManyField(related_name='liked_non_artist_post_comments', related_query_name='liked_non_artist_post_comment', through='posts.NonArtistPostCommentLike', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostcomment',
            name='parent',
            field=models.ForeignKey(blank=True, db_column='parent_comment_id', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='replies', related_query_name='reply', to='posts.nonartistpostcomment'),
        ),
        migrations.AddField(
            model_name='nonartistpostcomment',
            name='post_concerned',
            field=models.ForeignKey(db_column='non_artist_post_concerned_id', on_delete=django.db.models.deletion.CASCADE, related_name='overall_comments', related_query_name='comment', to='posts.nonartistpost'),
        ),
        migrations.AddField(
            model_name='nonartistpostcomment',
            name='poster',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='overall_non_artist_post_comments', related_query_name='non_artist_post_comment', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostcomment',
            name='users_mentioned',
            field=models.ManyToManyField(blank=True, related_name='mentioned_in_non_artist_post_comment', related_query_name='mentioned_in_non_artist_post_comment', through='posts.NonArtistPostCommentMention', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostbookmark',
            name='bookmarker',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpostbookmark',
            name='post',
            field=models.ForeignKey(db_column='non_artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.nonartistpost'),
        ),
        migrations.AddField(
            model_name='nonartistpost',
            name='bookmarkers',
            field=models.ManyToManyField(blank=True, related_name='bookmarked_non_artist_posts', related_query_name='bookmarked_non_artist_post', through='posts.NonArtistPostBookmark', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpost',
            name='downloaders',
            field=models.ManyToManyField(blank=True, related_name='downloaded_non_artist_posts', related_query_name='downloaded_non_artist_post', through='posts.NonArtistPostDownload', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpost',
            name='hashtags',
            field=taggit.managers.TaggableManager(blank=True, help_text='A comma-separated list of tags.', related_name='non_artist_posts', through='posts.HashtaggedNonArtistPost', to='posts.PostHashtag', verbose_name='Hashtags'),
        ),
        migrations.AddField(
            model_name='nonartistpost',
            name='poster',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='non_artist_posts', related_query_name='non_artist_post', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpost',
            name='raters',
            field=models.ManyToManyField(blank=True, related_name='rated_non_artist_posts', related_query_name='rated_non_artist_post', through='posts.NonArtistPostRating', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpost',
            name='reposters',
            field=models.ManyToManyField(blank=True, related_name='reposted_non_artist_posts', related_query_name='reposted_non_artist_post', through='posts.NonArtistPostRepost', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='nonartistpost',
            name='users_mentioned',
            field=models.ManyToManyField(blank=True, related_name='mentioned_in_non_artist_posts', related_query_name='mentioned_in_non_artist_post', through='posts.NonArtistPostMention', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='hashtaggednonartistpost',
            name='content_object',
            field=models.ForeignKey(db_column='non_artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.nonartistpost'),
        ),
        migrations.AddField(
            model_name='hashtaggednonartistpost',
            name='tag',
            field=models.ForeignKey(db_column='post_hashtag_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.posthashtag'),
        ),
        migrations.AddField(
            model_name='hashtaggedartistpost',
            name='content_object',
            field=models.ForeignKey(db_column='artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.artistpost'),
        ),
        migrations.AddField(
            model_name='hashtaggedartistpost',
            name='tag',
            field=models.ForeignKey(db_column='post_hashtag_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.posthashtag'),
        ),
        migrations.AddField(
            model_name='artistpostvideo',
            name='post',
            field=models.OneToOneField(db_column='artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='video', related_query_name='video', to='posts.artistpost', verbose_name='Post'),
        ),
        migrations.AddField(
            model_name='artistpostrepost',
            name='post',
            field=models.ForeignKey(db_column='artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='reposts', related_query_name='repost', to='posts.artistpost'),
        ),
        migrations.AddField(
            model_name='artistpostrepost',
            name='reposter',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='artist_post_reposts', related_query_name='artist_post_repost', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostrating',
            name='post',
            field=models.ForeignKey(db_column='artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='ratings', related_query_name='rating', to='posts.artistpost'),
        ),
        migrations.AddField(
            model_name='artistpostrating',
            name='rater',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='artist_post_ratings', related_query_name='artist_post_rating', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostphoto',
            name='post',
            field=models.ForeignKey(db_column='artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='photos', related_query_name='photo', to='posts.artistpost', verbose_name='Post'),
        ),
        migrations.AddField(
            model_name='artistpostmention',
            name='post',
            field=models.ForeignKey(db_column='artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.artistpost'),
        ),
        migrations.AddField(
            model_name='artistpostmention',
            name='user_mentioned',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostdownload',
            name='downloader',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='artist_post_downloads', related_query_name='artist_post_download', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostdownload',
            name='post',
            field=models.ForeignKey(db_column='artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.artistpost'),
        ),
        migrations.AddField(
            model_name='artistpostcommentmention',
            name='comment',
            field=models.ForeignKey(db_column='artist_post_comment_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.artistpostcomment'),
        ),
        migrations.AddField(
            model_name='artistpostcommentmention',
            name='user_mentioned',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostcommentlike',
            name='comment',
            field=models.ForeignKey(db_column='artist_post_comment_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.artistpostcomment'),
        ),
        migrations.AddField(
            model_name='artistpostcommentlike',
            name='liker',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostcomment',
            name='likers',
            field=models.ManyToManyField(related_name='liked_artist_post_comments', related_query_name='liked_artist_post_comment', through='posts.ArtistPostCommentLike', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostcomment',
            name='parent',
            field=models.ForeignKey(blank=True, db_column='parent_comment_id', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='replies', related_query_name='reply', to='posts.artistpostcomment'),
        ),
        migrations.AddField(
            model_name='artistpostcomment',
            name='post_concerned',
            field=models.ForeignKey(db_column='artist_post_concerned_id', on_delete=django.db.models.deletion.CASCADE, related_name='overall_comments', related_query_name='comment', to='posts.artistpost'),
        ),
        migrations.AddField(
            model_name='artistpostcomment',
            name='poster',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='overall_artist_post_comments', related_query_name='artist_post_comment', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostcomment',
            name='users_mentioned',
            field=models.ManyToManyField(blank=True, related_name='mentioned_in_artist_post_comment', related_query_name='mentioned_in_artist_post_comment', through='posts.ArtistPostCommentMention', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostbookmark',
            name='bookmarker',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='artistpostbookmark',
            name='post',
            field=models.ForeignKey(db_column='artist_post_id', on_delete=django.db.models.deletion.CASCADE, related_name='+', to='posts.artistpost'),
        ),
        migrations.AddField(
            model_name='artistpost',
            name='artist',
            field=models.ForeignKey(db_column='artist_id', on_delete=django.db.models.deletion.CASCADE, related_name='posts', related_query_name='post', to='accounts.artist', verbose_name='Artist'),
        ),
        migrations.AddField(
            model_name='artistpost',
            name='bookmarkers',
            field=models.ManyToManyField(blank=True, related_name='bookmarked_artist_posts', related_query_name='bookmarked_artist_post', through='posts.ArtistPostBookmark', to=settings.AUTH_USER_MODEL, verbose_name='Bookmarkers'),
        ),
        migrations.AddField(
            model_name='artistpost',
            name='downloaders',
            field=models.ManyToManyField(blank=True, related_name='downloaded_artist_posts', related_query_name='downloaded_artist_post', through='posts.ArtistPostDownload', to=settings.AUTH_USER_MODEL, verbose_name='Downloaders'),
        ),
        migrations.AddField(
            model_name='artistpost',
            name='hashtags',
            field=taggit.managers.TaggableManager(blank=True, help_text='A comma-separated list of tags.', related_name='artist_posts', through='posts.HashtaggedArtistPost', to='posts.PostHashtag', verbose_name='Hashtags'),
        ),
        migrations.AddField(
            model_name='artistpost',
            name='poster',
            field=models.ForeignKey(db_column='user_id', on_delete=django.db.models.deletion.CASCADE, related_name='artist_posts', related_query_name='artist_post', to=settings.AUTH_USER_MODEL, verbose_name='Poster'),
        ),
        migrations.AddField(
            model_name='artistpost',
            name='raters',
            field=models.ManyToManyField(blank=True, related_name='rated_artist_posts', related_query_name='rated_artist_post', through='posts.ArtistPostRating', to=settings.AUTH_USER_MODEL, verbose_name='Raters'),
        ),
        migrations.AddField(
            model_name='artistpost',
            name='reposters',
            field=models.ManyToManyField(blank=True, related_name='reposted_artist_posts', related_query_name='reposted_artist_post', through='posts.ArtistPostRepost', to=settings.AUTH_USER_MODEL, verbose_name='Reposter'),
        ),
        migrations.AddField(
            model_name='artistpost',
            name='users_mentioned',
            field=models.ManyToManyField(blank=True, related_name='mentioned_in_artist_posts', related_query_name='mentioned_in_artist_post', through='posts.ArtistPostMention', to=settings.AUTH_USER_MODEL, verbose_name='Users mentioned'),
        ),
        migrations.AddConstraint(
            model_name='nonartistpostrepost',
            constraint=models.UniqueConstraint(fields=('post', 'reposter'), name='unique_non_artist_post_repost'),
        ),
        migrations.AddConstraint(
            model_name='nonartistpostrating',
            constraint=models.UniqueConstraint(fields=('post', 'rater'), name='unique_non_artist_post_rating'),
        ),
        migrations.AddConstraint(
            model_name='nonartistpostrating',
            constraint=models.CheckConstraint(check=models.Q(('num_stars', 1), ('num_stars', 3), ('num_stars', 5), _connector='OR'), name='non_artist_post_rating_stars_is_1_or_3_or_5'),
        ),
        migrations.AddConstraint(
            model_name='nonartistpostmention',
            constraint=models.UniqueConstraint(fields=('post', 'user_mentioned'), name='unique_non_artist_post_user_mention'),
        ),
        migrations.AddConstraint(
            model_name='nonartistpostcommentmention',
            constraint=models.UniqueConstraint(fields=('comment', 'user_mentioned'), name='unique_non_artist_post_comment_user_mention'),
        ),
        migrations.AddConstraint(
            model_name='nonartistpostcommentlike',
            constraint=models.UniqueConstraint(fields=('comment', 'liker'), name='unique_non_artist_post_comment_like'),
        ),
        migrations.AddConstraint(
            model_name='nonartistpostbookmark',
            constraint=models.UniqueConstraint(fields=('post', 'bookmarker'), name='unique_non_artist_post_bookmark'),
        ),
        migrations.AddIndex(
            model_name='nonartistpost',
            index=models.Index(fields=['-created_on'], name='non_artist_post_desc_idx'),
        ),
        migrations.AddConstraint(
            model_name='artistpostrepost',
            constraint=models.UniqueConstraint(fields=('post', 'reposter'), name='unique_artist_post_repost'),
        ),
        migrations.AddConstraint(
            model_name='artistpostrating',
            constraint=models.UniqueConstraint(fields=('post', 'rater'), name='unique_artist_post_rating'),
        ),
        migrations.AddConstraint(
            model_name='artistpostrating',
            constraint=models.CheckConstraint(check=models.Q(('num_stars', 1), ('num_stars', 3), ('num_stars', 5), _connector='OR'), name='artist_post_rating_stars_is_1_or_3_or_5'),
        ),
        migrations.AddConstraint(
            model_name='artistpostmention',
            constraint=models.UniqueConstraint(fields=('post', 'user_mentioned'), name='unique_artist_post_user_mention'),
        ),
        migrations.AddConstraint(
            model_name='artistpostcommentmention',
            constraint=models.UniqueConstraint(fields=('comment', 'user_mentioned'), name='unique_artist_post_comment_user_mention'),
        ),
        migrations.AddConstraint(
            model_name='artistpostcommentlike',
            constraint=models.UniqueConstraint(fields=('comment', 'liker'), name='unique_artist_post_comment_like'),
        ),
        migrations.AddConstraint(
            model_name='artistpostbookmark',
            constraint=models.UniqueConstraint(fields=('post', 'bookmarker'), name='unique_artist_post_bookmark'),
        ),
        migrations.AddIndex(
            model_name='artistpost',
            index=models.Index(fields=['-created_on'], name='artist_post_desc_idx'),
        ),
    ]
